---
layout: post
title: "Идеи патчей"
date: '2013-03-30 01:36:00'
---

В этой статье я собрал идеи патчей, которые когда-то хотел сделать сам.

## iptables

### 30 марта 2013

Режим update on insert - при добавлении в цепочку правила, которое в ней уже итак существует, обнулять счётчики этого правила. Удобно для обеспечения идемпотентности функций внешних динамических систем управления файрволом.

UPD: Забавно, но в новых билдах iptables есть `--check | -C`, проверяющий есть ли такое правило в цепочке.

### 26 июня 2013

Поддержка операций над несколькими правилами одновременно, например

``` shell
iptables -t nat -D my_mega_chain 1 3 16
```

### 20 ноября 2016

Модуль autocomplete для ansible в atom. Чтобы пишешь:

``` yaml
    - name: blabla
      copy:
```

и оно превращается в:

``` yaml
  - name: blabla
    copy: src=../files/ dst=/dst/
```
